<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BP6A AFE API: BP6A Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BP6A AFE API
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">BP6A Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The example project is the getting started example for BP6A. It contains ECG, PPG, BIA, and GPIO, i2c application. You can build the project with all supported Mbed OS build tools.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Download library</h1>
<p>The example project needs mbed-dsp and s1sbp6a_afe_lib. You should download these librares.</p>
<p><a href="https://os.mbed.com/users/mbed_official/code/mbed-dsp/">https://os.mbed.com/users/mbed_official/code/mbed-dsp/</a></p>
<h1><a class="anchor" id="autotoc_md2"></a>
Build &amp; Download</h1>
<p>You can build the example.</p>
<div class="fragment"><div class="line">$mbed compile  -t &lt;TOOLCHAIN&gt; -m S1SBP6A</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Expected output</h1>
<p>The example starts show the menu you can select.</p>
<div class="fragment"><div class="line">$sudo minicom /dev/ttyACM0</div>
<div class="line">SIDK BP6A Example</div>
<div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
BIA example</h2>
<p>This example is for Body impedance. </p><div class="fragment"><div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt; b</div>
<div class="line">Select menu &gt;&gt;BIA ExampleStart</div>
<div class="line">Calibration Start</div>
<div class="line">calibration r: 0, code: 849</div>
<div class="line">calibration r: 1, code: 408</div>
<div class="line">5653</div>
<div class="line">215</div>
<div class="line">170</div>
<div class="line">150</div>
<div class="line">142</div>
<div class="line">139</div>
<div class="line">142</div>
<div class="line">148</div>
<div class="line">157</div>
<div class="line">166</div>
<div class="line">175</div>
<div class="line">187</div>
<div class="line">195</div>
<div class="line">202</div>
<div class="line">209</div>
<div class="line">215</div>
<div class="line">221</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
ECG example</h2>
<p>This example is for ECG.</p>
<div class="fragment"><div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt; e</div>
<div class="line">Select menu &gt;&gt;ECG ExampleStart</div>
<div class="line">2681</div>
<div class="line">2620</div>
<div class="line">2547</div>
<div class="line">2553</div>
<div class="line">2654</div>
<div class="line">2634</div>
<div class="line">2583</div>
<div class="line">2543</div>
<div class="line">2632</div>
<div class="line">2676</div>
<div class="line">2602</div>
<div class="line">2555</div>
<div class="line">2577</div>
<div class="line">2675</div>
<div class="line">2633</div>
<div class="line">2564</div>
<div class="line">2583</div>
<div class="line">2663</div>
<div class="line">2639</div>
<div class="line">2579</div>
</div><!-- fragment --><p>You can also see the ECG data as a graph with bp6a_data_plot.py </p><div class="fragment"><div class="line">$python  bp6a_data_plot.py -p /dev/ttyACM0</div>
</div><!-- fragment --><p><img src="./image/ecg_view.gif" alt="ecg plot" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md6"></a>
PPG example</h2>
<p>This example is for PPG. </p><div class="fragment"><div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt; p</div>
<div class="line">Select menu &gt;&gt;PPG ExampleStart</div>
<div class="line">2166293</div>
<div class="line">2174849</div>
<div class="line">2181769</div>
<div class="line">2162016</div>
<div class="line">2170146</div>
<div class="line">2172667</div>
<div class="line">2168917</div>
<div class="line">2166199</div>
<div class="line">2158735</div>
<div class="line">2171078</div>
<div class="line">2173429</div>
<div class="line">2161364</div>
<div class="line">2169346</div>
<div class="line">2167306</div>
<div class="line">2195398</div>
<div class="line">2182067</div>
<div class="line">2183647</div>
<div class="line">2185844</div>
<div class="line">2170946</div>
</div><!-- fragment --><p>You can also see the PPG data as a graph with bp6a_data_plot.py</p>
<div class="fragment"><div class="line">$python  bp6a_data_plot.py -p /dev/ttyACM0</div>
</div><!-- fragment --><p><img src="./image/ppg_view.gif" alt="ecg plot" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md7"></a>
GPIO example</h2>
<p>This example is forLED, Buzzer and button. When the button is pressed, the LED color changes and the LED flashes repeatedly or a buzzer sounds.</p>
<div class="fragment"><div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt; g</div>
<div class="line">Select menu &gt;&gt;start gpio_example</div>
<div class="line">if you press the Test button, LED and buzzer will be changed</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
i2c example</h2>
<p>You can test IMU with i2c example </p><div class="fragment"><div class="line">=========   Menu   =========</div>
<div class="line">   bia example  : b</div>
<div class="line">   ecg example  : e</div>
<div class="line">   ppg example  : p</div>
<div class="line">   gpio example : g</div>
<div class="line">   i2c example  : i</div>
<div class="line">   stop example : q</div>
<div class="line">============================</div>
<div class="line">Select menu &gt;&gt; i</div>
<div class="line">Select menu &gt;&gt;i2c IMU example</div>
<div class="line">Who am I : 0x12</div>
<div class="line">Accel Config : 0x0</div>
<div class="line">Gyro Config : 0x0</div>
<div class="line">Accelerometer : -172 292 16652</div>
<div class="line">Gyroscope : -16 -39 43</div>
<div class="line">Accelerometer : -144 192 16516</div>
<div class="line">Gyroscope : -7 -62 45</div>
<div class="line">Accelerometer : -176 220 16708</div>
<div class="line">Gyroscope : -34 -40 28</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
